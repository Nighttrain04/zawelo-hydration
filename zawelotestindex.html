<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Zawelo Hydration Tracker</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      background:#000000;          /* black background */
      color:#f9fafb;               /* light text */
      margin:0;
      padding:20px;
      overflow:hidden;             /* hide drops that go off screen edges */
    }

    h1 {
      color:#0ea5e9;
      text-align:center;
      margin-top:10px;
      margin-bottom:6px;
    }

    .subtitle {
      text-align:center;
      color:#9ca3af;
      font-size:14px;
      margin-bottom:14px;
    }

    .card {
      max-width:400px;
      margin:10px auto 20px;
      background:#111827;
      border-radius:12px;
      padding:20px;
      box-shadow:0 10px 30px rgba(0,0,0,.6);
      border:1px solid #1f2937;
    }

    input,
    button {
      padding:10px;
      font-size:16px;
      border-radius:8px;
      border:1px solid #374151;
    }

    input {
      width:140px;
      background:#020617;
      color:#e5e7eb;
    }

    button {
      background:#0ea5e9;
      color:#fff;
      cursor:pointer;
      margin-left:6px;
    }

    button:hover {
      background:#0284c7;
    }

    ul {
      list-style:none;
      padding:0;
      margin:10px 0 0;
      max-height:180px;
      overflow-y:auto;
    }

    li {
      display:flex;
      justify-content:space-between;
      padding:6px 0;
      border-top:1px solid #1f2937;
      font-size:14px;
      color:#e5e7eb;
    }

    .muted {
      color:#9ca3af;
      font-size:13px;
      text-align:center;
      margin-top:10px;
    }

    .bottle-wrap {
      max-width:400px;
      margin:0 auto 8px;
      text-align:center;
    }

    .bottle-img {
      max-width:180px;
      width:60%;
      display:block;
      margin:0 auto;
      border-radius:16px;
    }

    .total-line {
      font-size:18px;
      margin-bottom:10px;
    }

    /* MANY falling water droplets */
    .droplet {
      position: fixed;
      top: -40px;
      width: 10px;
      height: 18px;
      background: #0ea5e9;
      border-radius: 50% 50% 60% 60%;
      box-shadow: 0 4px 10px rgba(14,165,233,0.5);
      animation-name: drop;
      animation-timing-function: linear;
      animation-iteration-count: infinite;
      opacity: 0.9;
      pointer-events: none;
      z-index: 0;
    }

    @keyframes drop {
      0%   { transform: translateY(-60px); opacity: 0; }
      10%  { opacity: 1; }
      100% { transform: translateY(110vh); opacity: 0; }
    }
  </style>
</head>
<body>
  <h1>Zawelo Hydration</h1>
  <p class="subtitle">Stay hydrated. Stay sharp.</p>

  <div class="bottle-wrap">
    <!-- This points to the bottle.png file you saved next to this HTML file -->
    <img src="bottle.png" alt="Zawelo bottle" class="bottle-img">
  </div>

  <div class="card">
    <p class="total-line">
      <strong>Today's total:</strong>
      <span id="total">0</span> mL
    </p>
    <div style="margin-bottom:10px;">
      <input id="amount" type="number" placeholder="Amount (mL)" value="250">
      <button id="logBtn">Log</button>
      <button id="resetBtn">Reset Today</button>
    </div>
    <ul id="list"></ul>
    <p class="muted">Your data is saved on this device only.</p>
  </div>

  <script>
    /* --- create many raindrops --- */
    const NUM_DROPS = 35; // increase for heavier rain

    for (let i = 0; i < NUM_DROPS; i++) {
      const d = document.createElement("div");
      d.className = "droplet";
      d.style.left = Math.random() * 100 + "vw";                 // random horizontal position
      d.style.animationDuration = (2 + Math.random() * 2) + "s"; // 2â€“4 seconds fall
      d.style.animationDelay = (Math.random() * 3) + "s";        // stagger the starts
      document.body.appendChild(d);
    }

    /* --- hydration logic --- */
    const KEY = "hydration_logs";
    const read = () => JSON.parse(localStorage.getItem(KEY) || "[]");
    const write = (rows) => localStorage.setItem(KEY, JSON.stringify(rows));
    const today = () => new Date().toISOString().slice(0,10);

    const list = document.getElementById("list");
    const totalEl = document.getElementById("total");

    function render(){
      const rows = read();
      const tKey = today();
      const todayLogs = rows.filter(r => r.date.startsWith(tKey));
      const total = todayLogs.reduce((s,r)=>s+r.amount,0);
      totalEl.textContent = total;
      list.innerHTML = todayLogs
        .map(r => `<li><span>${r.amount} mL</span><span>${new Date(r.date).toLocaleTimeString()}</span></li>`)
        .join("");
    }

    document.getElementById("logBtn").onclick = () => {
      const val = parseInt(document.getElementById("amount").value,10);
      if(!val) return;
      const rows = read();
      rows.push({amount:val, date:new Date().toISOString()});
      write(rows);
      render();
    };

    document.getElementById("resetBtn").onclick = () => {
      const rows = read().filter(r => !r.date.startsWith(today()));
      write(rows);
      render();
    };

    render();
  </script>
</body>
</html>
