<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Zawelo Hydration Tracker</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      background:#000000;
      color:#f9fafb;
      margin:0;
      padding:20px;
      overflow-x:hidden;
    }

    h1 {
      color:#0ea5e9;
      text-align:center;
      margin-top:10px;
      margin-bottom:6px;
    }

    .subtitle {
      text-align:center;
      color:#9ca3af;
      font-size:14px;
      margin-bottom:14px;
    }

    .card {
      max-width:400px;
      margin:10px auto 20px;
      background:#111827;
      border-radius:12px;
      padding:20px;
      box-shadow:0 10px 30px rgba(0,0,0,.6);
      border:1px solid #1f2937;
      position:relative;
      z-index:1;
    }

    input, button {
      padding:10px;
      font-size:16px;
      border-radius:8px;
      border:1px solid #374151;
    }

    input {
      background:#020617;
      color:#e5e7eb;
    }

    button {
      background:#0ea5e9;
      color:#fff;
      cursor:pointer;
    }

    button:hover { background:#0284c7; }

    ul {
      list-style:none;
      padding:0;
      margin:10px 0 0;
      max-height:180px;
      overflow-y:auto;
    }

    li {
      display:flex;
      justify-content:space-between;
      padding:6px 0;
      border-top:1px solid #1f2937;
      font-size:14px;
      color:#e5e7eb;
    }

    .muted {
      color:#9ca3af;
      font-size:13px;
      text-align:center;
      margin-top:10px;
    }

    .bottle-wrap {
      max-width:400px;
      margin:0 auto 8px;
      text-align:center;
      position:relative;
      z-index:1;
    }

    .bottle-img {
      max-width:180px;
      width:60%;
      display:block;
      margin:0 auto;
      border-radius:16px;
    }

    .total-line {
      font-size:18px;
      margin-bottom:10px;
    }

    .waitlist-title {
      font-size:18px;
      font-weight:600;
      margin-top:0;
      margin-bottom:6px;
    }

    .waitlist-copy {
      font-size:14px;
      color:#d1d5db;
      margin-top:0;
      margin-bottom:12px;
    }

    /* Make embedded form blend with dark theme */
    iframe {
      background: rgba(15, 23, 42, 0.9);
      border-radius: 10px;
      border: 1px solid rgba(14, 165, 233, 0.4);
      box-shadow: 0 0 12px rgba(14,165,233,0.2);
    }

    /* Water droplet rain */
    .droplet {
      position: fixed;
      top: -40px;
      width: 12px;
      height: 22px;
      background: transparent;
      border: 2px solid rgba(56,189,248,0.9);
      border-top-color: rgba(56,189,248,0.45);
      border-radius: 50% 50% 60% 60%;
      box-shadow: 0 4px 10px rgba(56,189,248,0.6);
      animation-name: drop;
      animation-timing-function: linear;
      animation-iteration-count: infinite;
      opacity: 1;
      pointer-events: none;
      z-index:0;
    }

    .droplet::after {
      content:"";
      position:absolute;
      bottom:-6px;
      left:50%;
      transform:translateX(-50%);
      width:0;
      height:0;
      border-left:4px solid transparent;
      border-right:4px solid transparent;
      border-top:8px solid rgba(56,189,248,1);
    }

    @keyframes drop {
      0%   { transform: translateY(-60px); opacity: 0; }
      10%  { opacity: 1; }
      100% { transform: translateY(110vh); opacity: 0; }
    }

    /* 3D Rotating bottles */
    .bottle-orbit-wrap {
      max-width:320px;
      margin:40px auto 30px;
      text-align:center;
      position:relative;
      z-index:1;
      perspective: 800px;
    }

    .bottle-orbit {
      position:relative;
      width:260px;
      height:260px;
      margin:0 auto 8px;
      border-radius:50%;
      border:1px dashed #1f2937;
      transform-style: preserve-3d;
      animation: spin 3s linear infinite;
      transform-origin:center center;
    }

    .bottle-orbit img {
      position:absolute;
      top:50%;
      left:50%;
      width:90px;
      border-radius:16px;
      transform-style: preserve-3d;
      transform-origin:center center;
    }

    .bottle-orbit .b1 {
      transform: translate(-50%, -50%) rotateY(0deg) translateZ(140px);
    }

    .bottle-orbit .b2 {
      transform: translate(-50%, -50%) rotateY(120deg) translateZ(140px);
    }

    .bottle-orbit .b3 {
      transform: translate(-50%, -50%) rotateY(240deg) translateZ(140px);
    }

    @keyframes spin {
      from { transform:rotateY(0deg); }
      to   { transform:rotateY(360deg); }
    }
  </style>
</head>

<body>
  <h1>Zawelo Hydration</h1>
  <p class="subtitle">Hydrate now. Be first in line when the new bottle drops.</p>

  <div class="bottle-wrap">
    <img src="bottle.png" alt="Zawelo bottle" class="bottle-img">
  </div>

  <!-- Hydration tracker -->
  <div class="card">
    <p class="total-line">
      <strong>Today's total:</strong>
      <span id="total">0</span> mL
    </p>
    <div style="margin-bottom:10px; display:flex; gap:8px; flex-wrap:wrap;">
      <input id="amount" type="number" placeholder="Amount (mL)" value="250" style="flex:1; min-width:120px;">
      <button id="logBtn">Log</button>
      <button id="resetBtn">Reset</button>
    </div>
    <ul id="list"></ul>
    <p class="muted">Your hydration data is saved on this device only.</p>
  </div>

  <!-- Waitlist section -->
  <div class="card">
    <h2 class="waitlist-title">Join the Zawelo Bottle Waitlist</h2>
    <p class="waitlist-copy">Drop your email and be the first to know when the new bottle releases.</p>

    <iframe
      src="https://docs.google.com/forms/d/e/1FAIpQLSd0vq36j06pKj3tV6d8fNWJLcl8tbxt8B6ih3vMYGI2I1dHKw/viewform?embedded=true"
      width="100%"
      height="420"
      frameborder="0"
      marginheight="0"
      marginwidth="0">
      Loading…
    </iframe>

    <p class="muted">Emails are stored privately in our secure Google waitlist. Only the Zawelo team can view this list.</p>
    <p class="muted" style="margin-top:8px;">✅ You're all set! Check your inbox soon for exclusive Zawelo updates.</p>
  </div>

  <!-- Rotating bottles -->
  <div class="bottle-orbit-wrap">
    <div class="bottle-orbit">
      <img src="bottle.png" alt="Bottle mockup 1" class="b1">
      <img src="bottle.png" alt="Bottle mockup 2" class="b2">
      <img src="bottle.png" alt="Bottle mockup 3" class="b3">
    </div>
    
  </div>

  <script>
    /* Raindrops animation */
    const NUM_DROPS = 45;
    for (let i = 0; i < NUM_DROPS; i++) {
      const d = document.createElement("div");
      d.className = "droplet";
      d.style.left = Math.random() * 100 + "vw";
      d.style.animationDuration = (2 + Math.random() * 2.5) + "s";
      d.style.animationDelay = (Math.random() * 3) + "s";
      document.body.appendChild(d);
    }

    /* Hydration tracker */
    const KEY = "hydration_logs";
    const read = () => JSON.parse(localStorage.getItem(KEY) || "[]");
    const write = (rows) => localStorage.setItem(KEY, JSON.stringify(rows));
    const today = () => new Date().toISOString().slice(0,10);

    const list = document.getElementById("list");
    const totalEl = document.getElementById("total");

    function render(){
      const rows = read();
      const tKey = today();
      const todayLogs = rows.filter(r => r.date.startsWith(tKey));
      const total = todayLogs.reduce((s,r)=>s+r.amount,0);
      totalEl.textContent = total;
      list.innerHTML = todayLogs
        .map(r => `<li><span>${r.amount} mL</span><span>${new Date(r.date).toLocaleTimeString()}</span></li>`)
        .join("");
    }

    document.getElementById("logBtn").onclick = () => {
      const val = parseInt(document.getElementById("amount").value,10);
      if(!val) return;
      const rows = read();
      rows.push({amount:val, date:new Date().toISOString()});
      write(rows);
      render();
    };

    document.getElementById("resetBtn").onclick = () => {
      const rows = read().filter(r => !r.date.startsWith(today()));
      write(rows);
      render();
    };

    render();
  </script>
</body>
</html>
